#include "gbcpu.h"

const OpInstr opcodes[] = {
    [0x00] = {nop, IMPLIED, IMPLIED, 1, 4, "NOP"},
    [0x01] = {ld_16, IMMEDIATE_EXT, REG_BC, 3, 12, "LD"},
    [0x02] = {ld_8, REG_A, REG_BC_PTR, 1, 8, "LD"},
    [0x03] = {inc_16, IMPLIED, REG_BC, 1, 8, "INC"},
    [0x04] = {inc_8, IMPLIED, REG_B, 1, 4, "INC"},
    [0x05] = {dec_8, IMPLIED, REG_B, 1, 4, "DEC"},
    [0x06] = {ld_8, IMMEDIATE, REG_B, 2, 8, "LD"},
    [0x07] = {rlca, IMPLIED, IMPLIED, 1, 4, "RLCA"},
    [0x08] = {ld_16, REG_SP, IMMEDIATE_EXT_PTR, 3, 20, "LD"},
    [0x09] = {add_16, REG_BC, REG_HL, 1, 8, "ADD"},
    [0x0A] = {ld_8, REG_BC_PTR, REG_A, 1, 8, "LD"},
    [0x0B] = {dec_16, IMPLIED, REG_BC, 1, 8, "DEC"},
    [0x0C] = {inc_8, IMPLIED, REG_C, 1, 4, "INC"},
    [0x0D] = {dec_8, IMPLIED, REG_C, 1, 8, "DEC"},
    [0x0E] = {ld_8, IMMEDIATE, REG_C, 2, 8, "LD"},
    [0x0F] = {rrca, IMPLIED, IMPLIED, 1, 4, "RRCA"},

    [0x10] = {stop, IMMEDIATE, IMPLIED, 2, 4, "STOP"},
    [0x11] = {ld_16, IMMEDIATE_EXT, REG_DE, 3, 12, "LD"},
    [0x12] = {ld_8, REG_A, REG_DE_PTR, 1, 8, "LD"},
    [0x13] = {inc_16, IMPLIED, REG_DE, 1, 8, "INC"},
    [0x14] = {inc_8, IMPLIED, REG_D, 1, 4, "INC"},
    [0x15] = {dec_8, IMPLIED, REG_D, 1, 4, "DEC"},
    [0x16] = {ld_8, IMMEDIATE, REG_D, 2, 8, "LD"},
    [0x17] = {rla, IMPLIED, IMPLIED, 1, 4, "RLA"},
    [0x18] = {jr, IMMEDIATE, IMPLIED, 2, 12, "JR"},
    [0x19] = {add_16, REG_DE, REG_HL, 1, 8, "ADD"},
    [0x1A] = {ld_8, REG_DE_PTR, REG_A, 1, 8, "LD"},
    [0x1B] = {dec_16, IMPLIED, REG_DE, 1, 8, "DEC"},
    [0x1C] = {inc_8, IMPLIED, REG_E, 1, 4, "INC"},
    [0x1D] = {dec_8, IMPLIED, REG_E, 1, 8, "DEC"},
    [0x1E] = {ld_8, IMMEDIATE, REG_E, 2, 8, "LD"},
    [0x1F] = {rra, IMPLIED, IMPLIED, 1, 4, "RRA"},

    [0x20] = {jr_nz, IMMEDIATE, IMPLIED, 2, 12, "JRNZ"}, // 8
    [0x21] = {ld_16, IMMEDIATE_EXT, REG_HL, 3, 12, "LD"},
    [0x22] = {ldi, REG_A, REG_HL_PTR, 1, 8, "LDI"},
    [0x23] = {inc_16, IMPLIED, REG_HL, 1, 8, "INC"},
    [0x24] = {inc_8, IMPLIED, REG_H, 1, 4, "INC"},
    [0x25] = {dec_8, IMPLIED, REG_H, 1, 4, "DEC"},
    [0x26] = {ld_8, IMMEDIATE, REG_H, 2, 8, "LD"},
    [0x27] = {daa, IMPLIED, IMPLIED, 1, 4, "DAA"},
    [0x28] = {jr_z, IMMEDIATE, IMPLIED, 2, 12, "JRZ"}, // 8
    [0x29] = {add_16, REG_HL, REG_HL, 1, 8, "ADD"},
    [0x2A] = {ldi, REG_HL_PTR, REG_A, 1, 8, "LDI"},
    [0x2B] = {dec_16, IMPLIED, REG_HL, 1, 8, "DEC"},
    [0x2C] = {inc_8, IMPLIED, REG_L, 1, 4, "INC"},
    [0x2D] = {dec_8, IMPLIED, REG_L, 1, 4, "DEC"},
    [0x2E] = {ld_8, IMMEDIATE, REG_L, 2, 8, "LD"},
    [0x2F] = {cpl, IMPLIED, IMPLIED, 1, 4, "CPL"},

    [0x30] = {jr_nc, IMMEDIATE, IMPLIED, 2, 12, "JRNC"}, // 8
    [0x31] = {ld_16, IMMEDIATE_EXT, REG_SP, 3, 12, "LD"},
    [0x32] = {ldd, REG_A, REG_HL_PTR, 1, 8, "LDD"},
    [0x33] = {inc_16, IMPLIED, REG_SP, 1, 8, "INC"},
    [0x34] = {inc_8, IMPLIED, REG_HL_PTR, 1, 4, "INC"},
    [0x35] = {dec_8, IMPLIED, REG_HL_PTR, 1, 12, "DEC"},
    [0x36] = {ld_8, IMMEDIATE, REG_HL_PTR, 2, 12, "LD"},
    [0x37] = {scf, IMPLIED, IMPLIED, 1, 4, "SCF"},
    [0x38] = {jr_c, IMMEDIATE, IMPLIED, 2, 12, "JRC"}, // 8
    [0x39] = {add_16, REG_SP, REG_HL, 1, 8, "ADD"},
    [0x3A] = {ldd, REG_HL_PTR, REG_A, 1, 8, "LDD"},
    [0x3B] = {dec_16, IMPLIED, REG_SP, 1, 8, "DEC"},
    [0x3C] = {inc_8, IMPLIED, REG_A, 1, 4, "INC"},
    [0x3D] = {dec_8, IMPLIED, REG_A, 1, 4, "DEC"},
    [0x3E] = {ld_8, IMMEDIATE, REG_A, 2, 8, "LD"},
    [0x3F] = {ccf, IMPLIED, IMPLIED, 1, 4, "CCF"},

    [0x40] = {ld_8, REG_B, REG_B, 1, 4, "LD"},
    [0x41] = {ld_8, REG_C, REG_B, 1, 4, "LD"},
    [0x42] = {ld_8, REG_D, REG_B, 1, 4, "LD"},
    [0x43] = {ld_8, REG_E, REG_B, 1, 4, "LD"},
    [0x44] = {ld_8, REG_H, REG_B, 1, 4, "LD"},
    [0x45] = {ld_8, REG_L, REG_B, 1, 4, "LD"},
    [0x46] = {ld_8, REG_HL_PTR, REG_B, 1, 8, "LD"},
    [0x47] = {ld_8, REG_A, REG_B, 1, 4, "LD"},
    [0x48] = {ld_8, REG_B, REG_C, 1, 4, "LD"},
    [0x49] = {ld_8, REG_C, REG_C, 1, 4, "LD"},
    [0x4A] = {ld_8, REG_D, REG_C, 1, 4, "LD"},
    [0x4B] = {ld_8, REG_E, REG_C, 1, 4, "LD"},
    [0x4C] = {ld_8, REG_H, REG_C, 1, 4, "LD"},
    [0x4D] = {ld_8, REG_L, REG_C, 1, 4, "LD"},
    [0x4E] = {ld_8, REG_HL_PTR, REG_C, 1, 8, "LD"},
    [0x4F] = {ld_8, REG_A, REG_C, 1, 4, "LD"},

    [0x50] = {ld_8, REG_B, REG_D, 1, 4, "LD"},
    [0x51] = {ld_8, REG_C, REG_D, 1, 4, "LD"},
    [0x52] = {ld_8, REG_D, REG_D, 1, 4, "LD"},
    [0x53] = {ld_8, REG_E, REG_D, 1, 4, "LD"},
    [0x54] = {ld_8, REG_H, REG_D, 1, 4, "LD"},
    [0x55] = {ld_8, REG_L, REG_D, 1, 4, "LD"},
    [0x56] = {ld_8, REG_HL_PTR, REG_D, 1, 8, "LD"},
    [0x57] = {ld_8, REG_A, REG_D, 1, 4, "LD"},
    [0x58] = {ld_8, REG_B, REG_E, 1, 4, "LD"},
    [0x59] = {ld_8, REG_C, REG_E, 1, 4, "LD"},
    [0x5A] = {ld_8, REG_D, REG_E, 1, 4, "LD"},
    [0x5B] = {ld_8, REG_E, REG_E, 1, 4, "LD"},
    [0x5C] = {ld_8, REG_H, REG_E, 1, 4, "LD"},
    [0x5D] = {ld_8, REG_L, REG_E, 1, 4, "LD"},
    [0x5E] = {ld_8, REG_HL_PTR, REG_E, 1, 8, "LD"},
    [0x5F] = {ld_8, REG_A, REG_E, 1, 4, "LD"},

    [0x60] = {ld_8, REG_B, REG_H, 1, 4, "LD"},
    [0x61] = {ld_8, REG_C, REG_H, 1, 4, "LD"},
    [0x62] = {ld_8, REG_D, REG_H, 1, 4, "LD"},
    [0x63] = {ld_8, REG_E, REG_H, 1, 4, "LD"},
    [0x64] = {ld_8, REG_H, REG_H, 1, 4, "LD"},
    [0x65] = {ld_8, REG_L, REG_H, 1, 4, "LD"},
    [0x66] = {ld_8, REG_HL_PTR, REG_H, 1, 8, "LD"},
    [0x67] = {ld_8, REG_A, REG_H, 1, 4, "LD"},
    [0x68] = {ld_8, REG_B, REG_L, 1, 4, "LD"},
    [0x69] = {ld_8, REG_C, REG_L, 1, 4, "LD"},
    [0x6A] = {ld_8, REG_D, REG_L, 1, 4, "LD"},
    [0x6B] = {ld_8, REG_E, REG_L, 1, 4, "LD"},
    [0x6C] = {ld_8, REG_H, REG_L, 1, 4, "LD"},
    [0x6D] = {ld_8, REG_L, REG_L, 1, 4, "LD"},
    [0x6E] = {ld_8, REG_HL_PTR, REG_L, 1, 8, "LD"},
    [0x6F] = {ld_8, REG_A, REG_L, 1, 4, "LD"},

    [0x70] = {ld_8, REG_B, REG_HL_PTR, 1, 8, "LD"},
    [0x71] = {ld_8, REG_C, REG_HL_PTR, 1, 8, "LD"},
    [0x72] = {ld_8, REG_D, REG_HL_PTR, 1, 8, "LD"},
    [0x73] = {ld_8, REG_E, REG_HL_PTR, 1, 8, "LD"},
    [0x74] = {ld_8, REG_H, REG_HL_PTR, 1, 8, "LD"},
    [0x75] = {ld_8, REG_L, REG_HL_PTR, 1, 8, "LD"},
    // [0x76] = {ld_8, REG_C, REG_HL_PTR, 1, 8, "LD"},//halt
    [0x77] = {ld_8, REG_A, REG_HL_PTR, 1, 8, "LD"},
    [0x78] = {ld_8, REG_B, REG_A, 1, 4, "LD"},
    [0x79] = {ld_8, REG_C, REG_A, 1, 4, "LD"},
    [0x7A] = {ld_8, REG_D, REG_A, 1, 4, "LD"},
    [0x7B] = {ld_8, REG_E, REG_A, 1, 4, "LD"},
    [0x7C] = {ld_8, REG_H, REG_A, 1, 4, "LD"},
    [0x7D] = {ld_8, REG_L, REG_A, 1, 4, "LD"},
    [0x7E] = {ld_8, REG_HL_PTR, REG_A, 1, 8, "LD"},
    [0x7F] = {ld_8, REG_A, REG_A, 1, 4, "LD"},

    [0x80] = {add_8, REG_B, REG_A, 1, 4, "ADD"},
    [0x81] = {add_8, REG_C, REG_A, 1, 4, "ADD"},
    [0x82] = {add_8, REG_D, REG_A, 1, 4, "ADD"},
    [0x83] = {add_8, REG_E, REG_A, 1, 4, "ADD"},
    [0x84] = {add_8, REG_H, REG_A, 1, 4, "ADD"},
    [0x85] = {add_8, REG_L, REG_A, 1, 4, "ADD"},
    [0x86] = {add_8, REG_HL_PTR, REG_A, 1, 8, "ADD"},
    [0x87] = {add_8, REG_A, REG_A, 1, 4, "ADD"},
    [0x88] = {adc, REG_B, REG_A, 1, 4, "ADC"},
    [0x89] = {adc, REG_C, REG_A, 1, 4, "ADC"},
    [0x8A] = {adc, REG_D, REG_A, 1, 4, "ADC"},
    [0x8B] = {adc, REG_E, REG_A, 1, 4, "ADC"},
    [0x8C] = {adc, REG_H, REG_A, 1, 4, "ADC"},
    [0x8D] = {adc, REG_L, REG_A, 1, 4, "ADC"},
    [0x8E] = {adc, REG_HL_PTR, REG_A, 1, 8, "ADC"},
    [0x8F] = {adc, REG_A, REG_A, 1, 4, "ADC"},

    [0x90] = {sub, REG_B, IMPLIED, 1, 4, "SUB"},
    [0x91] = {sub, REG_C, IMPLIED, 1, 4, "SUB"},
    [0x92] = {sub, REG_D, IMPLIED, 1, 4, "SUB"},
    [0x93] = {sub, REG_E, IMPLIED, 1, 4, "SUB"},
    [0x94] = {sub, REG_H, IMPLIED, 1, 4, "SUB"},
    [0x95] = {sub, REG_L, IMPLIED, 1, 4, "SUB"},
    [0x96] = {sub, REG_HL_PTR, IMPLIED, 1, 8, "SUB"},
    [0x97] = {sub, REG_A, IMPLIED, 1, 4, "SUB"},
    [0x98] = {sbc, REG_B, REG_A, 1, 4, "SBC"},
    [0x99] = {sbc, REG_C, REG_A, 1, 4, "SBC"},
    [0x9A] = {sbc, REG_D, REG_A, 1, 4, "SBC"},
    [0x9B] = {sbc, REG_E, REG_A, 1, 4, "SBC"},
    [0x9C] = {sbc, REG_H, REG_A, 1, 4, "SBC"},
    [0x9D] = {sbc, REG_L, REG_A, 1, 4, "SBC"},
    [0x9E] = {sbc, REG_HL_PTR, REG_A, 1, 8, "SBC"},
    [0x9F] = {sbc, REG_A, REG_A, 1, 4, "SBC"},

    [0xA0] = {and, REG_B, IMPLIED, 1, 4, "AND"},
    [0xA1] = {and, REG_C, IMPLIED, 1, 4, "AND"},
    [0xA2] = {and, REG_D, IMPLIED, 1, 4, "AND"},
    [0xA3] = {and, REG_E, IMPLIED, 1, 4, "AND"},
    [0xA4] = {and, REG_H, IMPLIED, 1, 4, "AND"},
    [0xA5] = {and, REG_L, IMPLIED, 1, 4, "AND"},
    [0xA6] = {and, REG_HL_PTR, IMPLIED, 1, 8, "AND"},
    [0xA7] = {and, REG_A, IMPLIED, 1, 4, "AND"},
    [0xA8] = {xor, REG_B, IMPLIED, 1, 4, "XOR"},
    [0xA9] = {xor, REG_C, IMPLIED, 1, 4, "XOR"},
    [0xAA] = {xor, REG_D, IMPLIED, 1, 4, "XOR"},
    [0xAB] = {xor, REG_E, IMPLIED, 1, 4, "XOR"},
    [0xAC] = {xor, REG_H, IMPLIED, 1, 4, "XOR"},
    [0xAD] = {xor, REG_L, IMPLIED, 1, 4, "XOR"},
    [0xAE] = {xor, REG_HL_PTR, IMPLIED, 1, 8, "XOR"},
    [0xAF] = {xor, REG_A, IMPLIED, 1, 4, "XOR"},

    [0xB0] = { or, REG_B, IMPLIED, 1, 4, "OR"},
    [0xB1] = { or, REG_C, IMPLIED, 1, 4, "OR"},
    [0xB2] = { or, REG_D, IMPLIED, 1, 4, "OR"},
    [0xB3] = { or, REG_E, IMPLIED, 1, 4, "OR"},
    [0xB4] = { or, REG_H, IMPLIED, 1, 4, "OR"},
    [0xB5] = { or, REG_L, IMPLIED, 1, 4, "OR"},
    [0xB6] = { or, REG_HL_PTR, IMPLIED, 1, 8, "OR"},
    [0xB7] = { or, REG_A, IMPLIED, 1, 4, "OR"},
    [0xB8] = {cp, REG_B, IMPLIED, 1, 4, "CP"},
    [0xB9] = {cp, REG_C, IMPLIED, 1, 4, "CP"},
    [0xBA] = {cp, REG_D, IMPLIED, 1, 4, "CP"},
    [0xBB] = {cp, REG_E, IMPLIED, 1, 4, "CP"},
    [0xBC] = {cp, REG_H, IMPLIED, 1, 4, "CP"},
    [0xBD] = {cp, REG_L, IMPLIED, 1, 4, "CP"},
    [0xBE] = {cp, REG_HL_PTR, IMPLIED, 1, 8, "CP"},
    [0xBF] = {cp, REG_A, IMPLIED, 1, 4, "CP"},

    [0xC0] = {ret_nz, IMPLIED, IMPLIED, 1, 20, "RETNZ"}, // 8
    [0xC1] = {pop, IMPLIED, REG_BC, 1, 12, "POP"},
    [0xC2] = {jp_nz, IMMEDIATE_EXT, IMPLIED, 3, 16, "JPNZ"}, // 12
    [0xC3] = {jp, IMMEDIATE_EXT, IMPLIED, 3, 12, "JP"},
    [0xC4] = {call_nz, IMMEDIATE_EXT, IMPLIED, 3, 24, "CALLNZ"}, // 12
    [0xC5] = {push, REG_BC, IMPLIED, 1, 16, "PUSH"},
    [0xC6] = {add_8, IMMEDIATE, REG_A, 2, 8, "ADD"},
    [0xC7] = {rst, IMPLIED, IMPLIED, 1, 16, "RST 00H"},
    [0xC8] = {ret_z, IMPLIED, IMPLIED, 1, 20, "RETZ"}, // 8
    [0xC9] = {ret, IMPLIED, IMPLIED, 1, 16, "RET"},
    [0xCA] = {jp_z, IMMEDIATE_EXT, IMPLIED, 3, 16, "JPZ"}, // 12
    [0xCB] = {nop, IMPLIED, IMPLIED, 1, 4, "CB"},
    [0xCC] = {call_z, IMMEDIATE_EXT, IMPLIED, 3, 24, "CALLZ"},
    [0xCD] = {call, IMMEDIATE_EXT, IMPLIED, 3, 24, "CALL"},
    [0xCE] = {adc, IMMEDIATE, REG_A, 2, 8, "ADC"},
    [0xCF] = {rst, IMPLIED, IMPLIED, 1, 16, "RST 08H"},

    [0xD0] = {ret_nc, IMPLIED, IMPLIED, 1, 20, "RETNC"}, // 8
    [0xD1] = {pop, IMPLIED, REG_DE, 1, 12, "POP"},
    [0xD2] = {jp_nc, IMMEDIATE_EXT, IMPLIED, 3, 16, "JPNZ"},     // 12
    [0xD4] = {call_nc, IMMEDIATE_EXT, IMPLIED, 3, 24, "CALLNC"}, // 12
    [0xD5] = {push, REG_DE, IMPLIED, 1, 16, "PUSH"},
    [0xD6] = {sub, IMMEDIATE, IMPLIED, 2, 8, "SUB"},
    [0xD7] = {rst, IMPLIED, IMPLIED, 1, 16, "RST 10H"},
    [0xD8] = {ret_c, IMPLIED, IMPLIED, 1, 20, "RETC"}, // 8
    [0xD9] = {reti, IMPLIED, IMPLIED, 1, 16, "RETI"},
    [0xDA] = {jp_c, IMMEDIATE_EXT, IMPLIED, 3, 16, "JPZ"}, // 12
    [0xDC] = {call_c, IMMEDIATE_EXT, IMPLIED, 3, 24, "CALLC"},
    [0xDE] = {sbc, IMMEDIATE, REG_A, 2, 4, "SBC"},
    [0xDF] = {rst, IMPLIED, IMPLIED, 1, 16, "RST 18H"},

    [0xE0] = {ld_8, REG_A, IMMEDIATE_PTR, 2, 12, "LDH"},
    [0xE1] = {pop, IMPLIED, REG_HL, 1, 16, "POP"},
    [0xE2] = {ld_8, REG_A, REG_C_PTR, 2, 8, "LD"},
    [0xE5] = {push, REG_HL, IMPLIED, 1, 16, "PUSH"},
    [0xE6] = {and, IMMEDIATE, IMPLIED, 2, 8, "AND"},
    [0xE7] = {rst, IMPLIED, IMPLIED, 1, 16, "RST 20H"},
    [0xE8] = {add_sp, IMMEDIATE, REG_SP, 2, 16, "ADD"},
    [0xE9] = {jp, REG_HL, IMPLIED, 1, 4, "JP"},
    [0xEA] = {ld_8, REG_A, IMMEDIATE_EXT_PTR, 3, 16, "LD"},
    [0xEE] = {xor, IMMEDIATE, IMPLIED, 1, 4, "XOR"},
    [0xEF] = {rst, IMPLIED, IMPLIED, 1, 16, "RST 28H"},

    [0xF0] = {ld_8, IMMEDIATE_PTR, REG_A, 2, 12, "LDH"},
    [0xF1] = {pop, IMPLIED, REG_AF, 1, 12, "POP"},
    [0xF2] = {ld_8, REG_C_PTR, REG_A, 2, 8, "LD"},
    [0xF3] = {di, IMPLIED, IMPLIED, 1, 4, "DI"},
    [0xF5] = {push, REG_AF, IMPLIED, 1, 16, "PUSH"},
    [0xF6] = { or, IMMEDIATE, IMPLIED, 1, 4, "OR"},
    [0xF7] = {rst, IMPLIED, IMPLIED, 1, 16, "RST 30H"},
    [0xF8] = {ldhl, IMMEDIATE, REG_SP, 2, 12, "LDHL"},
    [0xF9] = {ld_16, REG_HL, REG_SP, 1, 8, "LD"},
    [0xFA] = {ld_8, IMMEDIATE_EXT_PTR, REG_A, 3, 16, "LD"},
    [0xFB] = {ei, IMPLIED, IMPLIED, 1, 4, "EI"},
    [0xFE] = {cp, IMMEDIATE, IMPLIED, 2, 8, "CP"},
    [0xFF] = {rst, IMPLIED, IMPLIED, 1, 16, "RST 38H"},
};

const OpInstr prefix_opcodes[] = {

    [0x00] = {rlc, IMPLIED, REG_B, 2, 8, "RLC"},
    [0x01] = {rlc, IMPLIED, REG_C, 2, 8, "RLC"},
    [0x02] = {rlc, IMPLIED, REG_D, 2, 8, "RLC"},
    [0x03] = {rlc, IMPLIED, REG_E, 2, 8, "RLC"},
    [0x04] = {rlc, IMPLIED, REG_H, 2, 8, "RLC"},
    [0x05] = {rlc, IMPLIED, REG_L, 2, 8, "RLC"},
    [0x06] = {rlc, IMPLIED, REG_HL_PTR, 2, 16, "RLC"},
    [0x07] = {rlc, IMPLIED, REG_A, 2, 8, "RLC"},
    [0x08] = {rrc, IMPLIED, REG_B, 2, 8, "RRC"},
    [0x09] = {rrc, IMPLIED, REG_C, 2, 8, "RRC"},
    [0x0A] = {rrc, IMPLIED, REG_D, 2, 8, "RRC"},
    [0x0B] = {rrc, IMPLIED, REG_E, 2, 8, "RRC"},
    [0x0C] = {rrc, IMPLIED, REG_H, 2, 8, "RRC"},
    [0x0D] = {rrc, IMPLIED, REG_L, 2, 8, "RRC"},
    [0x0E] = {rrc, IMPLIED, REG_HL_PTR, 2, 16, "RRC"},
    [0x0F] = {rrc, IMPLIED, REG_A, 2, 8, "RRC"},

    [0x10] = {rl, IMPLIED, REG_B, 2, 8, "RL"},
    [0x11] = {rl, IMPLIED, REG_C, 2, 8, "RL"},
    [0x12] = {rl, IMPLIED, REG_D, 2, 8, "RL"},
    [0x13] = {rl, IMPLIED, REG_E, 2, 8, "RL"},
    [0x14] = {rl, IMPLIED, REG_H, 2, 8, "RL"},
    [0x15] = {rl, IMPLIED, REG_L, 2, 8, "RL"},
    [0x16] = {rl, IMPLIED, REG_HL_PTR, 2, 16, "RL"},
    [0x17] = {rl, IMPLIED, REG_A, 2, 8, "RL"},
    [0x18] = {rr, IMPLIED, REG_B, 2, 8, "RR"},
    [0x19] = {rr, IMPLIED, REG_C, 2, 8, "RR"},
    [0x1A] = {rr, IMPLIED, REG_D, 2, 8, "RR"},
    [0x1B] = {rr, IMPLIED, REG_E, 2, 8, "RR"},
    [0x1C] = {rr, IMPLIED, REG_H, 2, 8, "RR"},
    [0x1D] = {rr, IMPLIED, REG_L, 2, 8, "RR"},
    [0x1E] = {rr, IMPLIED, REG_HL_PTR, 2, 16, "RR"},
    [0x1F] = {rr, IMPLIED, REG_A, 2, 8, "RR"},

    [0x20] = {sla, IMPLIED, REG_B, 2, 8, "SLA"},
    [0x21] = {sla, IMPLIED, REG_C, 2, 8, "SLA"},
    [0x22] = {sla, IMPLIED, REG_D, 2, 8, "SLA"},
    [0x23] = {sla, IMPLIED, REG_E, 2, 8, "SLA"},
    [0x24] = {sla, IMPLIED, REG_H, 2, 8, "SLA"},
    [0x25] = {sla, IMPLIED, REG_L, 2, 8, "SLA"},
    [0x26] = {sla, IMPLIED, REG_HL_PTR, 2, 16, "SLA"},
    [0x27] = {sla, IMPLIED, REG_A, 2, 8, "SLA"},
    [0x28] = {sra, IMPLIED, REG_B, 2, 8, "SRA"},
    [0x29] = {sra, IMPLIED, REG_C, 2, 8, "SRA"},
    [0x2A] = {sra, IMPLIED, REG_D, 2, 8, "SRA"},
    [0x2B] = {sra, IMPLIED, REG_E, 2, 8, "SRA"},
    [0x2C] = {sra, IMPLIED, REG_H, 2, 8, "SRA"},
    [0x2D] = {sra, IMPLIED, REG_L, 2, 8, "SRA"},
    [0x2E] = {sra, IMPLIED, REG_HL_PTR, 2, 16, "SRA"},
    [0x2F] = {sra, IMPLIED, REG_A, 2, 8, "SRA"},

    [0x30] = {swap, IMPLIED, REG_B, 2, 8, "SWAP"},
    [0x31] = {swap, IMPLIED, REG_C, 2, 8, "SWAP"},
    [0x32] = {swap, IMPLIED, REG_D, 2, 8, "SWAP"},
    [0x33] = {swap, IMPLIED, REG_E, 2, 8, "SWAP"},
    [0x34] = {swap, IMPLIED, REG_H, 2, 8, "SWAP"},
    [0x35] = {swap, IMPLIED, REG_L, 2, 8, "SWAP"},
    [0x36] = {swap, IMPLIED, REG_HL_PTR, 2, 16, "SWAP"},
    [0x37] = {swap, IMPLIED, REG_A, 2, 8, "SWAP"},
    [0x38] = {srl, IMPLIED, REG_B, 2, 8, "SRL"},
    [0x39] = {srl, IMPLIED, REG_C, 2, 8, "SRL"},
    [0x3A] = {srl, IMPLIED, REG_D, 2, 8, "SRL"},
    [0x3B] = {srl, IMPLIED, REG_E, 2, 8, "SRL"},
    [0x3C] = {srl, IMPLIED, REG_H, 2, 8, "SRL"},
    [0x3D] = {srl, IMPLIED, REG_L, 2, 8, "SRL"},
    [0x3E] = {srl, IMPLIED, REG_HL_PTR, 2, 16, "SRL"},
    [0x3F] = {srl, IMPLIED, REG_A, 2, 8, "SRL"},

    [0x40] = {bit, IMPLIED, REG_B, 2, 8, "BIT 0,"},
    [0x41] = {bit, IMPLIED, REG_C, 2, 8, "BIT 0,"},
    [0x42] = {bit, IMPLIED, REG_D, 2, 8, "BIT 0,"},
    [0x43] = {bit, IMPLIED, REG_E, 2, 8, "BIT 0,"},
    [0x44] = {bit, IMPLIED, REG_H, 2, 8, "BIT 0,"},
    [0x45] = {bit, IMPLIED, REG_L, 2, 8, "BIT 0,"},
    [0x46] = {bit, IMPLIED, REG_HL_PTR, 2, 16, "BIT 0,"},
    [0x47] = {bit, IMPLIED, REG_A, 2, 8, "BIT 0,"},
    [0x48] = {bit, IMPLIED, REG_B, 2, 8, "BIT 1,"},
    [0x49] = {bit, IMPLIED, REG_C, 2, 8, "BIT 1,"},
    [0x4A] = {bit, IMPLIED, REG_D, 2, 8, "BIT 1,"},
    [0x4B] = {bit, IMPLIED, REG_E, 2, 8, "BIT 1,"},
    [0x4C] = {bit, IMPLIED, REG_H, 2, 8, "BIT 1,"},
    [0x4D] = {bit, IMPLIED, REG_L, 2, 8, "BIT 1,"},
    [0x4E] = {bit, IMPLIED, REG_HL_PTR, 2, 16, "BIT 1,"},
    [0x4F] = {bit, IMPLIED, REG_A, 2, 8, "BIT 1,"},

    [0x50] = {bit, IMPLIED, REG_B, 2, 8, "BIT 2,"},
    [0x51] = {bit, IMPLIED, REG_C, 2, 8, "BIT 2,"},
    [0x52] = {bit, IMPLIED, REG_D, 2, 8, "BIT 2,"},
    [0x53] = {bit, IMPLIED, REG_E, 2, 8, "BIT 2,"},
    [0x54] = {bit, IMPLIED, REG_H, 2, 8, "BIT 2,"},
    [0x55] = {bit, IMPLIED, REG_L, 2, 8, "BIT 2,"},
    [0x56] = {bit, IMPLIED, REG_HL_PTR, 2, 16, "BIT 2,"},
    [0x57] = {bit, IMPLIED, REG_A, 2, 8, "BIT 2,"},
    [0x58] = {bit, IMPLIED, REG_B, 2, 8, "BIT 3,"},
    [0x59] = {bit, IMPLIED, REG_C, 2, 8, "BIT 3,"},
    [0x5A] = {bit, IMPLIED, REG_D, 2, 8, "BIT 3,"},
    [0x5B] = {bit, IMPLIED, REG_E, 2, 8, "BIT 3,"},
    [0x5C] = {bit, IMPLIED, REG_H, 2, 8, "BIT 3,"},
    [0x5D] = {bit, IMPLIED, REG_L, 2, 8, "BIT 3,"},
    [0x5E] = {bit, IMPLIED, REG_HL_PTR, 2, 16, "BIT 3,"},
    [0x5F] = {bit, IMPLIED, REG_A, 2, 8, "BIT 3,"},

    [0x60] = {bit, IMPLIED, REG_B, 2, 8, "BIT 4,"},
    [0x61] = {bit, IMPLIED, REG_C, 2, 8, "BIT 4,"},
    [0x62] = {bit, IMPLIED, REG_D, 2, 8, "BIT 4,"},
    [0x63] = {bit, IMPLIED, REG_E, 2, 8, "BIT 4,"},
    [0x64] = {bit, IMPLIED, REG_H, 2, 8, "BIT 4,"},
    [0x65] = {bit, IMPLIED, REG_L, 2, 8, "BIT 4,"},
    [0x66] = {bit, IMPLIED, REG_HL_PTR, 2, 16, "BIT 4,"},
    [0x67] = {bit, IMPLIED, REG_A, 2, 8, "BIT 4,"},
    [0x68] = {bit, IMPLIED, REG_B, 2, 8, "BIT 5,"},
    [0x69] = {bit, IMPLIED, REG_C, 2, 8, "BIT 5,"},
    [0x6A] = {bit, IMPLIED, REG_D, 2, 8, "BIT 5,"},
    [0x6B] = {bit, IMPLIED, REG_E, 2, 8, "BIT 5,"},
    [0x6C] = {bit, IMPLIED, REG_H, 2, 8, "BIT 5,"},
    [0x6D] = {bit, IMPLIED, REG_L, 2, 8, "BIT 5,"},
    [0x6E] = {bit, IMPLIED, REG_HL_PTR, 2, 16, "BIT 5,"},
    [0x6F] = {bit, IMPLIED, REG_A, 2, 8, "BIT 5,"},

    [0x70] = {bit, IMPLIED, REG_B, 2, 8, "BIT 6,"},
    [0x71] = {bit, IMPLIED, REG_C, 2, 8, "BIT 6,"},
    [0x72] = {bit, IMPLIED, REG_D, 2, 8, "BIT 6,"},
    [0x73] = {bit, IMPLIED, REG_E, 2, 8, "BIT 6,"},
    [0x74] = {bit, IMPLIED, REG_H, 2, 8, "BIT 6,"},
    [0x75] = {bit, IMPLIED, REG_L, 2, 8, "BIT 6,"},
    [0x76] = {bit, IMPLIED, REG_HL_PTR, 2, 16, "BIT 6,"},
    [0x77] = {bit, IMPLIED, REG_A, 2, 8, "BIT 6,"},
    [0x78] = {bit, IMPLIED, REG_B, 2, 8, "BIT 7,"},
    [0x79] = {bit, IMPLIED, REG_C, 2, 8, "BIT 7,"},
    [0x7A] = {bit, IMPLIED, REG_D, 2, 8, "BIT 7,"},
    [0x7B] = {bit, IMPLIED, REG_E, 2, 8, "BIT 7,"},
    [0x7C] = {bit, IMPLIED, REG_H, 2, 8, "BIT 7,"},
    [0x7D] = {bit, IMPLIED, REG_L, 2, 8, "BIT 7,"},
    [0x7E] = {bit, IMPLIED, REG_HL_PTR, 2, 16, "BIT 7,"},
    [0x7F] = {bit, IMPLIED, REG_A, 2, 8, "BIT 7,"},

    [0x80] = {res, IMPLIED, REG_B, 2, 8, "RES 0,"},
    [0x81] = {res, IMPLIED, REG_C, 2, 8, "RES 0,"},
    [0x82] = {res, IMPLIED, REG_D, 2, 8, "RES 0,"},
    [0x83] = {res, IMPLIED, REG_E, 2, 8, "RES 0,"},
    [0x84] = {res, IMPLIED, REG_H, 2, 8, "RES 0,"},
    [0x85] = {res, IMPLIED, REG_L, 2, 8, "RES 0,"},
    [0x86] = {res, IMPLIED, REG_HL_PTR, 2, 16, "RES 0,"},
    [0x87] = {res, IMPLIED, REG_A, 2, 8, "RES 0,"},
    [0x88] = {res, IMPLIED, REG_B, 2, 8, "RES 1,"},
    [0x89] = {res, IMPLIED, REG_C, 2, 8, "RES 1,"},
    [0x8A] = {res, IMPLIED, REG_D, 2, 8, "RES 1,"},
    [0x8B] = {res, IMPLIED, REG_E, 2, 8, "RES 1,"},
    [0x8C] = {res, IMPLIED, REG_H, 2, 8, "RES 1,"},
    [0x8D] = {res, IMPLIED, REG_L, 2, 8, "RES 1,"},
    [0x8E] = {res, IMPLIED, REG_HL_PTR, 2, 16, "RES 1,"},
    [0x8F] = {res, IMPLIED, REG_A, 2, 8, "RES 1,"},

    [0x90] = {res, IMPLIED, REG_B, 2, 8, "RES 2,"},
    [0x91] = {res, IMPLIED, REG_C, 2, 8, "RES 2,"},
    [0x92] = {res, IMPLIED, REG_D, 2, 8, "RES 2,"},
    [0x93] = {res, IMPLIED, REG_E, 2, 8, "RES 2,"},
    [0x94] = {res, IMPLIED, REG_H, 2, 8, "RES 2,"},
    [0x95] = {res, IMPLIED, REG_L, 2, 8, "RES 2,"},
    [0x96] = {res, IMPLIED, REG_HL_PTR, 2, 16, "RES 2,"},
    [0x97] = {res, IMPLIED, REG_A, 2, 8, "RES 2,"},
    [0x98] = {res, IMPLIED, REG_B, 2, 8, "RES 3,"},
    [0x99] = {res, IMPLIED, REG_C, 2, 8, "RES 3,"},
    [0x9A] = {res, IMPLIED, REG_D, 2, 8, "RES 3,"},
    [0x9B] = {res, IMPLIED, REG_E, 2, 8, "RES 3,"},
    [0x9C] = {res, IMPLIED, REG_H, 2, 8, "RES 3,"},
    [0x9D] = {res, IMPLIED, REG_L, 2, 8, "RES 3,"},
    [0x9E] = {res, IMPLIED, REG_HL_PTR, 2, 16, "RES 3,"},
    [0x9F] = {res, IMPLIED, REG_A, 2, 8, "RES 3,"},

    [0xA0] = {res, IMPLIED, REG_B, 2, 8, "RES 4,"},
    [0xA1] = {res, IMPLIED, REG_C, 2, 8, "RES 4,"},
    [0xA2] = {res, IMPLIED, REG_D, 2, 8, "RES 4,"},
    [0xA3] = {res, IMPLIED, REG_E, 2, 8, "RES 4,"},
    [0xA4] = {res, IMPLIED, REG_H, 2, 8, "RES 4,"},
    [0xA5] = {res, IMPLIED, REG_L, 2, 8, "RES 4,"},
    [0xA6] = {res, IMPLIED, REG_HL_PTR, 2, 16, "RES 4,"},
    [0xA7] = {res, IMPLIED, REG_A, 2, 8, "RES 4,"},
    [0xA8] = {res, IMPLIED, REG_B, 2, 8, "RES 5,"},
    [0xA9] = {res, IMPLIED, REG_C, 2, 8, "RES 5,"},
    [0xAA] = {res, IMPLIED, REG_D, 2, 8, "RES 5,"},
    [0xAB] = {res, IMPLIED, REG_E, 2, 8, "RES 5,"},
    [0xAC] = {res, IMPLIED, REG_H, 2, 8, "RES 5,"},
    [0xAD] = {res, IMPLIED, REG_L, 2, 8, "RES 5,"},
    [0xAE] = {res, IMPLIED, REG_HL_PTR, 2, 16, "RES 5,"},
    [0xAF] = {res, IMPLIED, REG_A, 2, 8, "RES 5,"},

    [0xB0] = {res, IMPLIED, REG_B, 2, 8, "RES 6,"},
    [0xB1] = {res, IMPLIED, REG_C, 2, 8, "RES 6,"},
    [0xB2] = {res, IMPLIED, REG_D, 2, 8, "RES 6,"},
    [0xB3] = {res, IMPLIED, REG_E, 2, 8, "RES 6,"},
    [0xB4] = {res, IMPLIED, REG_H, 2, 8, "RES 6,"},
    [0xB5] = {res, IMPLIED, REG_L, 2, 8, "RES 6,"},
    [0xB6] = {res, IMPLIED, REG_HL_PTR, 2, 16, "RES 6,"},
    [0xB7] = {res, IMPLIED, REG_A, 2, 8, "RES 6,"},
    [0xB8] = {res, IMPLIED, REG_B, 2, 8, "RES 7,"},
    [0xB9] = {res, IMPLIED, REG_C, 2, 8, "RES 7,"},
    [0xBA] = {res, IMPLIED, REG_D, 2, 8, "RES 7,"},
    [0xBB] = {res, IMPLIED, REG_E, 2, 8, "RES 7,"},
    [0xBC] = {res, IMPLIED, REG_H, 2, 8, "RES 7,"},
    [0xBD] = {res, IMPLIED, REG_L, 2, 8, "RES 7,"},
    [0xBE] = {res, IMPLIED, REG_HL_PTR, 2, 16, "RES 7,"},
    [0xBF] = {res, IMPLIED, REG_A, 2, 8, "RES 7,"},

    [0xC0] = {set, IMPLIED, REG_B, 2, 8, "SET 0,"},
    [0xC1] = {set, IMPLIED, REG_C, 2, 8, "SET 0,"},
    [0xC2] = {set, IMPLIED, REG_D, 2, 8, "SET 0,"},
    [0xC3] = {set, IMPLIED, REG_E, 2, 8, "SET 0,"},
    [0xC4] = {set, IMPLIED, REG_H, 2, 8, "SET 0,"},
    [0xC5] = {set, IMPLIED, REG_L, 2, 8, "SET 0,"},
    [0xC6] = {set, IMPLIED, REG_HL_PTR, 2, 16, "SET 0,"},
    [0xC7] = {set, IMPLIED, REG_A, 2, 8, "SET 0,"},
    [0xC8] = {set, IMPLIED, REG_B, 2, 8, "SET 1,"},
    [0xC9] = {set, IMPLIED, REG_C, 2, 8, "SET 1,"},
    [0xCA] = {set, IMPLIED, REG_D, 2, 8, "SET 1,"},
    [0xCB] = {set, IMPLIED, REG_E, 2, 8, "SET 1,"},
    [0xCC] = {set, IMPLIED, REG_H, 2, 8, "SET 1,"},
    [0xCD] = {set, IMPLIED, REG_L, 2, 8, "SET 1,"},
    [0xCE] = {set, IMPLIED, REG_HL_PTR, 2, 16, "SET 1,"},
    [0xCF] = {set, IMPLIED, REG_A, 2, 8, "SET 1,"},

    [0xD0] = {set, IMPLIED, REG_B, 2, 8, "SET 2,"},
    [0xD1] = {set, IMPLIED, REG_C, 2, 8, "SET 2,"},
    [0xD2] = {set, IMPLIED, REG_D, 2, 8, "SET 2,"},
    [0xD3] = {set, IMPLIED, REG_E, 2, 8, "SET 2,"},
    [0xD4] = {set, IMPLIED, REG_H, 2, 8, "SET 2,"},
    [0xD5] = {set, IMPLIED, REG_L, 2, 8, "SET 2,"},
    [0xD6] = {set, IMPLIED, REG_HL_PTR, 2, 16, "SET 2,"},
    [0xD7] = {set, IMPLIED, REG_A, 2, 8, "SET 2,"},
    [0xD8] = {set, IMPLIED, REG_B, 2, 8, "SET 3,"},
    [0xD9] = {set, IMPLIED, REG_C, 2, 8, "SET 3,"},
    [0xDA] = {set, IMPLIED, REG_D, 2, 8, "SET 3,"},
    [0xDB] = {set, IMPLIED, REG_E, 2, 8, "SET 3,"},
    [0xDC] = {set, IMPLIED, REG_H, 2, 8, "SET 3,"},
    [0xDD] = {set, IMPLIED, REG_L, 2, 8, "SET 3,"},
    [0xDE] = {set, IMPLIED, REG_HL_PTR, 2, 16, "SET 3,"},
    [0xDF] = {set, IMPLIED, REG_A, 2, 8, "SET 3,"},

    [0xE0] = {set, IMPLIED, REG_B, 2, 8, "SET 4,"},
    [0xE1] = {set, IMPLIED, REG_C, 2, 8, "SET 4,"},
    [0xE2] = {set, IMPLIED, REG_D, 2, 8, "SET 4,"},
    [0xE3] = {set, IMPLIED, REG_E, 2, 8, "SET 4,"},
    [0xE4] = {set, IMPLIED, REG_H, 2, 8, "SET 4,"},
    [0xE5] = {set, IMPLIED, REG_L, 2, 8, "SET 4,"},
    [0xE6] = {set, IMPLIED, REG_HL_PTR, 2, 16, "SET 4,"},
    [0xE7] = {set, IMPLIED, REG_A, 2, 8, "SET 4,"},
    [0xE8] = {set, IMPLIED, REG_B, 2, 8, "SET 5,"},
    [0xE9] = {set, IMPLIED, REG_C, 2, 8, "SET 5,"},
    [0xEA] = {set, IMPLIED, REG_D, 2, 8, "SET 5,"},
    [0xEB] = {set, IMPLIED, REG_E, 2, 8, "SET 5,"},
    [0xEC] = {set, IMPLIED, REG_H, 2, 8, "SET 5,"},
    [0xED] = {set, IMPLIED, REG_L, 2, 8, "SET 5,"},
    [0xEE] = {set, IMPLIED, REG_HL_PTR, 2, 16, "SET 5,"},
    [0xEF] = {set, IMPLIED, REG_A, 2, 8, "SET 5,"},

    [0xF0] = {set, IMPLIED, REG_B, 2, 8, "SET 6,"},
    [0xF1] = {set, IMPLIED, REG_C, 2, 8, "SET 6,"},
    [0xF2] = {set, IMPLIED, REG_D, 2, 8, "SET 6,"},
    [0xF3] = {set, IMPLIED, REG_E, 2, 8, "SET 6,"},
    [0xF4] = {set, IMPLIED, REG_H, 2, 8, "SET 6,"},
    [0xF5] = {set, IMPLIED, REG_L, 2, 8, "SET 6,"},
    [0xF6] = {set, IMPLIED, REG_HL_PTR, 2, 16, "SET 6,"},
    [0xF7] = {set, IMPLIED, REG_A, 2, 8, "SET 6,"},
    [0xF8] = {set, IMPLIED, REG_B, 2, 8, "SET 7,"},
    [0xF9] = {set, IMPLIED, REG_C, 2, 8, "SET 7,"},
    [0xFA] = {set, IMPLIED, REG_D, 2, 8, "SET 7,"},
    [0xFB] = {set, IMPLIED, REG_E, 2, 8, "SET 7,"},
    [0xFC] = {set, IMPLIED, REG_H, 2, 8, "SET 7,"},
    [0xFD] = {set, IMPLIED, REG_L, 2, 8, "SET 7,"},
    [0xFE] = {set, IMPLIED, REG_HL_PTR, 2, 16, "SET 7,"},
    [0xFF] = {set, IMPLIED, REG_A, 2, 8, "SET 7,"},
};
